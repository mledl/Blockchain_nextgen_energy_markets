% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.20 of 2017/10/04
%
\documentclass[runningheads]{llncs}
%
\usepackage{graphicx}
% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following line
% to display URLs in blue roman font according to Springer's eBook style:
% \renewcommand\UrlFont{\color{blue}\rmfamily}

\begin{document}
%
\title{Powered by Blockchain: Next-Generation Energy Markets}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%
\author{Martin Ledl}
%
\authorrunning{M. Ledl}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{Technical University of Vienna, Austria}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
The historically grown electricity system has to be adapted in the near future, since it heavily relies on fossil fuels which we will be running out. Moreover, its burning has strong impact on global warming. The emerge of renewable energy sources provide great alternatives to conventional sources, but there is a huge challenge integrating them in the current centralized system while remaining its stability and properly respond to demand and supply. Moreover, private owner of small scale renewable energy systems want to get better reward for their injected energy surplus. These arising challenges of a future electrical system can be tackled by introduction of a decentralized system. This work discusses current research and opportunities that Blockchain can provide to a future electricity system. Moreover, the current state is discussed as well as its challenges and challenges of a use of Blockchain technology is described. To sum this up, this work has a brief look at non Blockchain technologies that enable a peer-to-peer electrical system.

\keywords{Blockchain  \and Decentralized Energy Markets \and Decentralized Energy Trading \and Smart Grid}
\end{abstract}
%
%
%
\section{Introduction}
The EU states in a briefing from late 2016 \cite{eu_energy_market} that the US National Academy of Engineering considers today's electrical grid as the greatest achievement in engineering of the 20th century. Thinking about it, electricity is generated from various sources in large scale, transported over large distances and distributed to different consumers. All this is done in a very reliable and sophisticated way in order to meet supply and demand in various regions. The electricity grid is not only regional or national, but also covers big transnational areas and electricity is traded across different countries to guarantee stability of the overall electrical system. On top of the grid there is a rather centralized electricity market, where consumers have contracts with electricity companies that kind of buy electricity from generators and sell it to various types of consumers. \newline
Nevertheless this robust electrical grid comes with some big challenges that have become more severe over the past decades. As the overall electricity consumption is increasing steadily due to the ongoing electrification, more electrical energy is required. A huge amount of the current grid's electricity is generated from fossil fuels as well as nuclear power. It is well known that burning fossil fuels emits greenhouse gases into the atmosphere which is one major trigger of global warming. Nuclear energy is known to be quite expensive and that its radioactive material cannot be recycled or store in a sustainable way. \newline
Due to the present problems of the electrical grid, science and engineering came up with more sustainable ways of generating energy which are referred to as renewable sources. Photovoltaic cells, windmills and solar energy are some of them and can also be installed in small scale, as for a single household for example. Owners of such system mostly consume energy which the have generated themselves and also want to sell electricity in times of overproduction. The current centralized electricity market as well as the physical electricity grid cannot handle a huge number of small scale generators well. Therefore, the EU \cite{eu_energy_market} aims for redesigning a market in a way to encourage such investments in low carbon energy while keeping supply, demand and costs for households stable at the same time. \newline
This work aims for discussing approaches of possible future energy markets with focus on decentralized energy markets base on Blockchain technology. Besides discussing scientific work and identified challenges, whitepapers of some interesting applications applied by companies will be reviewed. Moreover, we will discuss potential distributed energy markets and adoption of the electrical grid's topology. To understand the advantages using Blockchain in the energy market, this work will introduce Blockchain principles and how the current electrical grid and markets works based on the EU's electricity system.

\section{Principles}
This section aims for providing the basic technical background knowledge on Blockchain in order to understand how and why this technology can be one major building block of future electricity systems. Based on this knowledge and the subsequent section on today's energy system, readers should be able to understand possible advantage of Blockchain application in this field and which current challenges can be solved.

\subsection{Blockchain Principles}
In 2009, the Blockchain data structure gained great popularity through the launch of the Bitcoin network, which was the first cryptocurrency based on this technology. The Blockchain is a distributed database, also known as distributed ledger, that holds issued transactions in chronological order. These transactions are aggregated to time-stamped blocks and such block is crytographically linked to its predecessor. Thus, the Blockchain is actually a chain of subsequent blocks of user issued transactions. Moreover, each user of a Blockchain based application holds its own copy of the distributed ledger which are held up to date and empower every single user to validate and verify other users' transactions. This kind of means that such users team up to safeguard the ledger's integrity and make it temperproof against malicious transactions. Furthermore, a single user can check if a block has been tempered with which makes it even harder to temper blocks within the chain. \newline
The Blockchain principle works given the fact that there is no trust between any users of the system and therefore the Blockchain requires a consensus algorithm which empowers the community of users to reach consensus on the question whether a block is valid or not. The big advantage of Blockchain is that no trusted centralized authority is required that validates transactions, as consensus is reached between users that does not need to trust each other based on the consensus algorithm. The only requirement regarding trust is the community's trust into Blockchain technology itself. Additionally, it is important to understand that Blockchain technology aims for putting incentive into assets that will be traded in order to make potential user want to participate in such a system. This is usually done by rewarding active user (e.g. with coin-based reward in case of cryptocurrencies). Moreover, users have the incentive to keep a system stable and running as they profit from working with it. This fact is considered in consensus algorithms in a way that just a minority of uses is assumed to potentially be malicious. \cite{blockchain} \cite{andoni_energy_bc_review}

\subsubsection{Consensus Algorithm} is key to find a consensus on whether a user issued transaction is valid or needs to be discarded among a community of untrusted users. Different consensus algorithms have been developed, since this algorithm is the key contributor to scalability, transaction speed, resource costs and security. For example, a very computational expensive algorithm might come with great security properties, but drastically decreases the transaction speed and increases the required resources as electricity. \newline
A block of transactions can be proposed by any user of the network and the rest of the network has to reach consensus on this block. An accepted block is added to the blockchain an newly added blocks will be cryptographically linked to it. After a certain time period of being accepted the block becomes a final part of the chain. Consensus algorithms need to be resilient to presence of malicious users within the network under the assumption that the majority of users follows certain incentives provided by the Blockchain based system. \newline
One wide-spread consensus algorithm is proof of work (PoW) which is mainly used in public Blockchains (e.g. Bitcoin). PoW rewards users that proposes a new block by being the first to solve a cryptographic puzzle. This puzzle is crafted in a way that solving it to issue a new block is very hard and computationally expensive, but validating the solution is easy. Therefore, other users can easily verify the proposed block and reject potentially malicious blocks.
Another often used consensus algorithm is called Proof of Stake (PoS) where the weight of a user's vote depends on his stake within the system. Users with great participation have higher stake (e.g. amount of coins in cryptocurrency) and therefore their vote has more value as such users are assumed to have a very low risk of being malicious. \cite{blockchain} \cite{andoni_energy_bc_review}

\subsubsection{Smart Contracts} extend traditional Blockchain platforms in order define functionality as program that can run on the Blockchain (that supports smart contracts). This empowers the definition of network specific rules through such a smart contract. Smart Contracts are executed by a Blockchains node in order to perform calculations which ensure specified conditions and rules. \cite{blockchain}
Smart Contracts are essential for Blockchain based energy systems, as the rules for peer-to-peer trading and the overall energy market system can be realized as such and run on a Blockchain. Almost all research done on Blockchain based energy markets is evaluated using the Ethereum Blockchain, because it is the well known Blockchain allowing smart contracts.

\section{Energy System Today}
In order to be able to understand what problems currently exist and which could be tackled by application of Blockchain technology, it is very important to understand how electricity is traded nowadays and which parties are involved. Moreover, this is important to get a look into the challenges with the current system and which challenges will arise by the application of Blockchain technology or the implementation of a smart grid in general.

\subsection{Current Network Topology and Players}
The electricity system is made up of the physical infrastructure used for generation, distribution and transportation as well as the energy market itself. Therefore, people usually buy electricity not directly from generators itself, but by a wholesale company in between. Besides purchasing electricity there are further fees for using the physical infrastructure itself which cover among others maintenance costs of the grid.
This physical grid can be roughly divided into electricity generators and means of electricity transportation. Such a transportation system further consists of systems which are responsible for long-distance energy transmission and distribution systems which aim for connecting industrial and private customers to the grid in order to be able to supply them with electricity. Furthermore, there are different national or sub-national transmission system operators and distribution system operators that are responsible for maintaining the physical infrastructure and ensure stable energy distribution (e.g. for Vienna there are the “Wiener Netze”). Moreover, there are interconnections between grids also across national borders to have alternative in ensuring the electricity demand and supply. \cite{eu_energy_market}
For the other components of a electricity system, the energy market, there are various entities interacting with each other.

\subsubsection{Electricity Suppliers} buy electricity directly from energy generators and finally resell it to customers. Thus, industrial customer and residential customers usually do not purchase electricity directly from generators.

\subsubsection{Consumers} can be industrial or residential consumers and buy electricity from suppliers.

\subsubsection{Electricity generators} are responsible for actually generating electricity from various sources. The European Union differentiates between two types of electricity generators, firm-capacity and variable-capacity generators. Firm-capacity generators reliably deliver electricity and can be adjusted or turned on/off according to the current demand (e.g. coal, nuclear, gas, hydro with dam, biomass, etc.). Variable-capacity generators on the other hand depend on the current environmental state as they leverage wind or sunlight for example and therefore only generate electricity at certain times.  Moreover, the flexibility of firm-capacity generators varies a lot where hydro power is the most and nuclear power the least flexible with respect to latency from power on until actual energy is generated.
To underline the importance to develop a grid that can serve electricity in a stable manner with less firm-capacity generators, having a look at members of the two generator classes reveals that the firm-capacity generators contain fossil fuel (e.g. coal, natural gas, etc.) which reserve will be exhausted in a couple of decades. This will decrease the amount of energy source that can serve higher energy demand within relatively shot amount of time and therefore, the importance of more reliable integration of variable-capacity generators (e.g. all sort of renewable energy) strongly increases. This should also be a motivation that drives the restructuring and investment process in the current energy system. Besides that, burning of fossil fuels emits carbon dioxide into the atmosphere which is currently one of the main drivers of global warming. \cite{eu_energy_market}

\subsubsection{Regulators} define clear rules that has to be followed by all market entities in order to keep the market and its prices stable and make it work as it currently is. Moreover, regulators keep track if the electricity market works as it should. The Agency for Cooperation of Energy Regulators defines the network codes at EU level. Those network codes define guidelines for transnational electricity markets and networks. On national level, independent regulators set operational rules for electricity markets.

\subsubsection{Transmission System Operators} are in charge of the long-distance electricity transportation and of maintaining the transportation system and further investments in it in order to enlarge or restructure its topology. Thus, they ensure the systems stability and are therefore paid by other entities for using their infrastructure for electricity transportation.

\subsubsection{Distributions System Operators} earn money by distributing the electricity, which has been transported over a transmission system operator’s infrastructure, to the customer. \newline

The physical infrastructure of transmission and distribution networks is connected to electricity consumers and generators the electric grid. This network aims for keeping balance between demand and supply of electricity within the grid. Such stability guarantees that there is no lack of electricity at no point of time for example. Another really notable aspect is that the electricity flow within the grid cannot be controlled and due to physical laws, the electricity flows along the path of lowest resistance. Thus, electricity consumed is a mixture from all different sources.
The consumed electricity is generated by different systems that vary greatly in their size and scale. A generator can be a nuclear, coal or large hydro power plant, but also rather small-scale photovoltaic systems. \cite{eu_energy_market}

\subsection{Current Energy Markets}
In the European Union, market types depend on their geographical location and vary in their size and level from transnational wholesale markets to local retail markets. In a traditional retail market, suppliers offer contracts which cover national regulators’ rules and consumers usually choose a suitable contract offered by a supplier of their choice. Suppliers resell energy from generating entities and are responsible for invoicing the offered electricity. Such contracts state the electricity’s origin as well as fees which support certain policies and network investments.
Wholesale markets bring together electricity generators, suppliers and large industrial consumers under a different pricing schema as for residential customers. Furthermore, wholesale energy markets are coupled on a transnational regional level to increase flexibility and be able to address demand across national borders.\cite{eu_energy_market}

\subsection{Balancing Supply and Demand}
The key equation for balance is that the electrical supply must be equal to the demand in order to have a stable network without shortages. The base amount of electricity is served by variable-capacity generators and demand peaks are addressed using firm-capacity generators due to their flexibility. An increase in variable capacity (increase in renewable systems) has also led to an increase in firm capacity to ensure stability. Demand and supply balancing in the European Union are done using a three-level reserve system, where the different levels have increased supply latency. Furthermore, variable capacity is prioritized and often meets the required demand which results in lower market share for firm capacity and therefore such generators earn less money these days. Nevertheless, the are most important in times of supply shortages. \cite{eu_energy_market}

\subsection{Arising Challenges}
The European Union \cite{eu_energy_market} stated in 2016 that there are a couple of challenges that need to be addressed by the future electricity system. First of all, the general electricity demand is increasing within the European Union due to the ongoing electrification (e.g. spread of electrical cars). Moreover, there is a huge aim for reduction of $CO_2$ emissions by generating electricity from variable renewable sources. This results in an increase of electricity transportation due to the increase of variable generators.\newline
Furthermore, the number of private prosumers is increasing and therefore more potential consumer generate a certain amount of energy themselves which results in a decrease in grid consumption and less revenue for conventional generators and grid operators. Unfortunately, this can lead to an increase in electricity prices and grid fees for regular consumers. \newline
Those challenges need to be effectively and efficiently tackled in the close future and therefore research and industry is working on various solutions. Adoptions require massive investments of local, national and transnational level in order to provide network resilience and competitive pricing for all network entities.\cite{eu_energy_market}\newline


\section{Blockchain in the Energy Sector}
This section aims for giving an overview of interesting and promising Blockchain based solutions within the energy section. Most solutions take advantage of the technology's promising properties to build decentralized energy markets that enable better integration for prosumers and renewable energy sources in general. Focusing on local neighbourhoods, this can decrease the electricity price and have other benefits for local participants in such systems. Other solutions incentivise renewable energy production and consumption through rewarding certain coins for positive participation in the system. These are the two major fields targeted in research and therefore we will discuss them in greater detail. As smart grid is a very broad field, research is mainly talking about transactive energy systems and microgrids when working in this context.

\subsection{Transactive Energy System}
Zia et al. \cite{zia_microgrid_te} describes the concept of transactive energy as achieving bi-directional energy transactions in an effective market-driven system. A transactive energy system aims for exchanging energy based on the economic value and operational constraints using automation, control and economic tools. This allows to dynamically balance demand and supply across the entire electrical infrastructure, which consists of multiple agents that follow certain goals and are stuck to certain rules, by using a short-term locational price per energy unit transaction. By possessing this behaviour, a transactive energy system is the major building block towards the establishment of a smart grid system. \newline
Such a transactive power system integrates microgrids and local energy markets into the current energy system and therefore empowers residential prosumers to trade their energy surplus and gain monetary reward. A local energy market can be built and operated per microgrid, but also for a group of microgrids that trade with each other. Those local energy markets and large-scale power are transacting energy based on prices determined by the wholesale market. The wholesale market further maintains usage costs for transmission and distribution infrastructure as well as all the bids and offers of all agents. Large local energy markets might also be able to directly purchase the demanded energy from large-scale energy producers. \cite{zia_microgrid_te}
Microgrid transactive energy systems can be implemented in a centralized or decentralized way. Blockchain technology yields the most promising solution for enabling a decentralized microgrid transactive energy system. This approach in scale of microgrid empowers local prosumer’s participation and aims for minimizing electricity costs and maximizing reward for generating renewable energy. Participation of local consumers and prosumers is the key to a working microgrid, as demand and supply can be easier balanced and price stability can be maintained as well. By using Blockchain technology, every participant holds the same database of energy transactions within the microgrid. Distributed consensus is reached on valid transactions and the need for a trusted intermediary is eliminated and participants further do not have to trust other microgrid participants due to the consensus algorithm.
Zia et al. \cite{zia_microgrid_te} further discusses a 7-layered architecture which divides a microgrids functionalities. In this work, we mainly focus on the market layer and the distributed ledger layer with respect to application of Blockchain technology.

\subsection{Microgrids}
Microgrids are usually community networks which either use the utility grid of the distribution system operator or are built upon their own physical infrastructure. They can operate as a stand-alone system where all demand and supply balancing is only done withing the system through a combination of active agents and storage systems. In the grid connected case demand and supply peaks can be balanced via the utilization grid and contracts with electricity providers. The energy price in grid connected microgrid are usually higher due to fees from grid operators. \cite{zia_microgrid_te} \newline
Such a microgrid can be seen as one system with an interface to the main grid. Electrical transmission losses are reduced by a microgrid due to the locality of energy generation and consumption. Another positive aspect is that microgrids can improve network resilience. Local energy systems and market places heavily rely on participation and contribution of prosumers and consumers to work properly and meet its proposed advantages.
Local energy systems like microgrids, have to deal with a significant number of entities and have to keep track of all generated and consumed energy distributed over the grid. Moreover, such systems are required to ensure balance between supply and demand. Those problems can be tackled using blockchain and its properties. \cite{andoni_energy_bc_review}


\subsubsection{The Brooklyn Microgrid Case Study} 
The Brooklyn Microgrid (BMG) Case Study investigates a microgrid energy market in Brooklyn, New York. Moreover, Microgrid participants are located across three different distribution grids. The BMG comes with a local energy market where community members can trade energy within their neighborhood in a peer-to-peer manner. \newline
Therefore, the BMG consist of a virtual energy market platform that is based on a Smart Contracts running on an Ethereum Blockchain and make use of a PBFT consensus algorithm implemented by Tendermint. The physical microgrids uses the local distribution grids and an additional microgrid infrastructure has been built in order to be able to operate independent of the overall electrical system. In times of demand or supply peaks the distribution grid and electricity providers are conducted for help to balance the microgrid. \cite{brooklyn_microgrid} \newline
The market based approach is quite similar to Mengelkamp et al. \cite{mengelkamp_lem} and Ilic et al. \cite{ilic_smart_grid_neighbourhoods} which are described in greater detail in the following sections. Each network participant has an account on the Blockchain based information system, which on which the market functionality is implemented using smart contracts. Moreover, each participant has a smart meter installed that sends consumption and generation data to this account. Participants can further define their goals and bidding strategy via the smart meter as well, e.g. maximizing monetary benefit. After all bids and orders are matched at the end of a market period, payments are done and the new block is added to the Blockchain, which holds the current market information. Payments are decoupled from energy transaction and carried out between matched participants. Therefore, all kind of trading is conducted at the Blockchain based information system. Smart Meters further receive information about the consumption, generation and other market and grid related information relevant for their bidding and selling strategy. This enables such devices to automatically make trading decision within the microgrid’s energy market. \newline
The case study \cite{brooklyn_microgrid} concluded that physical microgrid infrastructure empowers decoupling from the distribution grid in case of instability and can further prefer important institutions in the electricity supply chain. The current generation capacity of their case study cannot guarantee reliable supply and demand balancing and therefore the system has to be extended and storage units need to be added to increase flexibility. Another important finding is that the is no regulatory framework that covers peer-to-peer trading without involvement of other stakeholders. The overall key finding of the case study was that a microgrid’s energy market can successfully be implemented and operated on a private Blockchain and that market definition and further optimization work regarding Blockchains has to be done.


\subsection{Local energy market}
Local energy market approaches empower the locality of generating, consuming and trading energy in a local market and therefore minimize transportation as well as scale down supply and demand balancing to a local network. Local energy markets claim to be more flexible regarding near real-time energy pricing and in choosing an energy supplier. Furthermore, their prospect a more transparent way sof energy consumption in general, but they are rather small-scale and geographically constrained. Moreover, local energy markets are very promising as the propose possible energy cost reduction and an advance of the local economy as revenue is kept withing the local community. This profit should be meant to be reinvested into renewable energy sources in order to boost the local energy community.\cite{mengelkamp_lem} \newline
In order to provide a larger scale system, e.g. in national scale, multiple local energy markets could be interconnected, which comes with many advantages and open challenges to be address. Mengelkamp et al. \cite{mengelkamp_lem} analyzed and designed a decentralized local energy market that is based on Blockchain technology. They introduce a local energy market with an operational auction mechanism that defines prices based on entities’ transactions. Hence, prices indicate potential lack of locally generated energy which results in a local network imbalance.
The introduced approach is the first that deals with a prosumer and consumer sided local energy market and focus on trading electricity from private photovoltaic systems.
Blockchain technology is responsible for payment functionalities as well as the market mechanism which is described in the following. \newline
The state of the current market is hold in a closed order book that has discrete market closing times. After such market clearing, the energy price for the next time slot is established and consumers can order electricity at the market price and retrieve the purchased amount of electricity, which is indeed a prosumer’s surplus that also participates in the local energy markets. In case of market imbalances, such that demand and supply cannot be completely addressed by the local energy market, entities have to trade electricity with electricity providers using the connected distribution grid. Thus, electricity providers are major contributors to the stability of the local energy system. Furthermore, the upper and lower market price limits are obtained from the distribution grid’s energy price and selling price. The market solution aims for minimizing the local energy markets demand of external grid electricity and therefore maximizes its self-consumption which further minimizes expensive transactions with the distribution grid. This grid acts as a prosumer which is able to issue an arbitrary amount of orders and bits within the system. 
To forecast demand and supply, the respective Blockchain accounts store only information about demand and surplus of entities alongside with their financial balances, which further allows the system to calculate a user specific utility function that is taken into account in case of placing orders. Storing just overall surplus and demand should only have a minimum impact in users’ privacy, but sufficient for obtaining consumption patterns used for predictions. \cite{mengelkamp_lem} \newline
Electricity payments are fulfilled by the system at clearing times and statistical market information is broadcasted to all market entities. Virtual trading of electricity does not directly influence the physical electricity exchange as this is done via the physical distribution grid itself. \newline
The described local energy market has been simulated using 100 residential households and 15 minutes time slots between market clearings. The market mechanism itself has been implemented as smart contract which is executed on a private Ethereum Blockchain that uses PoW as consensus algorithm and payments as well as bids and orders were issued via the Blockchain. Consumers and prosumers are simulated which order or sell their surplus using their respective account at the Blockchain solution. \newline
This system leads to cheaper electricity prices as they are a weighted combination of smaller local prices and the price of the electricity provider which is required in times of demand peaks. Another advantage is that it possibly empowers local residentials to install PV systems in order to also participate as prosumer due to the better selling prices. Application of Blockchain in such a market system lowers market prices, decentralizes the marked in general and yields a very high transparency level within the market. \cite{mengelkamp_lem}\newline
This system cannot serve autarky as electricity providers are used to respond to network imbalances.
Nevertheless, this system has severe scaling problems, high latency and a high energy consumption, as PoW is used as consensus algorithm. Therefore, a lot of improvements have to be made and technical challenges to be solved to make this system practically applicable.


\subsection{NRGcoin}
Another very interesting group of Blockchain applications in the energy sector are based on cryptocurrencies, where assets are incentivized by transferring them in coins.
Mihaylov et al. \cite{mihaylov_nrgcoin} introduced a cryptocurrency called NRGcoin where coins are generated by injecting renewable energy into the grid instead of classical mining approaches which require a lot of computational power. One advantage of this approach over energy markets like \cite{mengelkamp_lem} \cite{ilic_smart_grid_neighbourhoods} is that the proposed market is not time-critical and reward does not depend on the specific time of order placement for pricing. 
Earned NRGcoins through injecting energy surplus can then be used to purchase energy from the distribution system operator if required or can be exchanged for its monetary equivalent at an open exchange market. \newline
As in the other approaches, smart meters at consumer and producer level are required to measure production and consumption rates. This information is then sent to substations of the distribution system operator in 15 minutes intervals and used for obtaining the amount of NRGcoins a prosumer gets for energy production and the amount a consumer is billed.
It is important to know, that consumers, prosumers and the substations has to run the NRGcoin protocol. Furthermore, variable consumption and production rates are used to provide better rates to agents to aim in meeting the current demand and supply and therefore try to keep the network stable. \cite{mihaylov_nrgcoin}

\subsubsection{NRGcoin System Overview:} Prosumers generate a surplus of renewable energy, feed this energy into the grid and send the information about this process to every node withing the NRGcoin network in order to update the distributed ledger. Prosumers then get reward from two entities, the connected substation and the NRG protocol itself. This reward is issued per time window and a substations reward NRGcoins based on the production and consumption of the prosumer and the NRG protocol rewards a certain amount to make new money enter the system to prevent NRGcoin from being deflationary. \newline
An interesting aspect about NRGcoins is that their value is decoupled from their monetary market values and fed in renewable energy is just converted into NRGcoins applying two functions defined by Mihaylov et al. \cite{mihaylov_nrgcoin}. This mechanism decouples the rewarded NRGcoins from the expected monetary earnings. Due to the defined functions, a prosumer that feeds in energy at a timeslot of high demand gets a greater reward than feeding in at a time of energy surplus. The same prosumer will maximize earning on his NRGcoins by consuming energy in a timeslot of high supply. \newline
As already mentioned, NRGcoins can be used to buy electricity from the distribution system operator. Moreover, there is an exchange market where agents can sell certain amounts of NRGcoins in exchange for fiat currencies. Consumers, that for example do not have any kind of renewable energy source installed, can purchase NRGcoins and further exchange them for electricity by their distribution system operator. This exchange market has quite similar features as proposed by Ilic et al. \cite{ilic_smart_grid_neighbourhoods}.
Consumers pay a certain amount of NRGcoins to meet the required electricity demand. This amount of coins to be transferred to the distribution system operator is also obtained from a specific function. Thus, the operation of the NRGcoin protocol can be configured by three functions that are responsible for rewarding NRGcoins to prosumers, keeping the currency deflationary and purchasing coins from consumers. \cite{mihaylov_nrgcoin}
Moreover, the exchange market makes profit from possible commission fees as well as from the difference between sell and buy bids that were matched.

\subsubsection{Advantages} of the NRGcoin protocol can be found in demand and supply balancing as the system aims to shift the consumers demand to production peaks by applying variable rates and therefore agents aim for balancing the system out of self-interest. \newline
Another positive aspect is, that the role of the distribution system operator remains very important as reliable forecasting techniques are required to meet demand in cases where the system will be imbalanced. Therefore, this entity will be responsible for providing external energy. Furthermore, distribution system operators will have a greater amount of money to invest in their network, because they reward prosumers with NRGcoins instead of fiat currency. Another important point is, that deploying the NRGcoin protocol might only require installation of smart meters and make substations smart instead of restructuring the whole distribution system’s infrastructure. \newline
As NRGcoins only represent the amount of fed in renewable energy they can act as an international currency for green energy instead of only being a certificate for green energy consumption. Due to the deflationary mechanism and the asset representation the coins become time independent and can be used in the future to consume the same amount of energy that has been fed in in the past. \cite{mihaylov_nrgcoin}

\subsubsection{Challenges} arise from the dependence of the NRGcoin on its community, as with many other cryptocurrencies. Market speculations and savings of a huge amount of coins can lead to great fluctuations in its trade value. Another challenge will be the integration of the NRGcoin protocol at distribution system operators and in a way larger scale. The amount of smart local substations enables good scalability of this system. \cite{mihaylov_nrgcoin} \newline
Additionally, a big challenge for large scale applications will be to design the right blockchain setup to meet certain throughput and uptake rate \cite{mihaylov_nrgcoin2}.

Finally, the researchers \cite{mihaylov_nrgcoin} built a demonstration platform of their system as proposed on their website \cite{nrgcoin_demo}. Unfortunately, the simulation results are not discussed. Nevertheless, this yields a very promising and sustainable approach to integrate renewable energy sources in a large scale with the use of blockchain, without the need of massive infrastructure adoptions.

\subsection{Blockchain in the Energy Industry}
This section will discuss a few already used and promising platforms that leverage Blockchain technology. Most of them model a transactive energy system and even have their own cryptocurrency for incentivising the asset electricity. This is the reason why the previous section discussed transactive energy systems and coin based approaches in greater detail based on selected examples.

\subsubsection{Prosume} is developing a very flexible platform that is enables to build transactive energy networks that utilize decentralized energy markets. The proposed platform will bring together utility companies, grid operator, system integrators and the (local) communities itself to build local energy ecosystems where trading is done using an online marketplace. In such a multi-tenant ecosystem, each peer can buy from and sell to any other peer. This integrates all entities of the current electrical system to the same extent and empowers private prosumers. The price and quantity of a transaction is obtained by trading algorithms based on auction clearings on the blockchain, as proposed by Mengelkamp \cite{mengelkamp_lem} as well. \newline
This platform empowers locality of electricity generation and consumption as well as lead to greater electricity awareness. Prosume's solution is based on the Ethereum Blockchain an generates two kinds of tokens, one for trading purposes (PEF) and the other one for local transaction (TFT). \cite{prosume_wp}
Prosume also ran proof of concepts in Styria and Barcelona and is developing a solution to integrate the smart home gateway "EUGENIO" with their platform (e-PROSUME) and will empower owners to dynamically manage their house's electricity consumption via smartphone. They further emphasized on monitoring and metering of various generation/consumption properties. \cite{prosume_briefing}
This solution realized research proposals and is proving that the discussed principles of this work can actually applied in an economic way. Note that there are many companies developing similar transactive energy network solutions to Prosume.

\subsubsection{Power Ledger} has developed a platform that enables interoperability of different market/pricing mechanisms through pre-purchased tokens. Their approach is scalable adaptable to regulatory boundaries as they provide a transparent governance framework that enables the Power Ledger ecosystem to interact with energy markets all over the world. This flexible system allows to adjust the system to the regulatory needs required at specific localities. The platform distinguishes between application hosts (retailers, utility companies, etc.) and consumers and is based on a dual token ecosystem where the POWR are frictionless Blockchain tokens to access the platform itself and Sparkz are "low level" tokens that are issued agains POWR tokens and actually used for trading on the platform. Sparkz therefore represents a tokenized unit of electricity in varying markets all over the world and maintain a steady exchange price between POWR tokens and the local market electricity prices. \cite{powerledger}
Power Ledger aims for a sustainable solution by using a hybrid public and consortium Blockchain which will switch from PoW to PoS if the update Ethereum is released. The Power Ledger Core layer of their solution is the smart contract layer and implements the key components of the POWR token ecosystem. This layer further uses some services of the EcoChain, which is a private PoS Blockchain developed by Power Ledger which will be replaced with the consortium solution. This Blockchain setup is concluded by an application layer which is represented by their FuseBox which provides various applications, e.g. for asset management or energy exchange and many more. More detailed information can by obtained from their suitable whitepaper \cite{powerledger}.

\section{Non-Blockchain based Energy Trading}
This section aims for introducing and discussing research regarding decentralized energy markets without application of Blockchain technology.

\subsection{Elecbay}
Zhang \cite{elecbay} proposed a software platform for P2P energy trading in a grid-connected Microgrid without the use of Blockchain technology. The entities interacting with Elecbay are buyers, sellers, suppliers and DSOs. Sellers list their energy items (e.g. surplus over half an hour) for sale on Elecbay and buyers can browse through listed items and select fits. This can also take place the other way around. After orders are placed by peers, Elecbay accepts or rejects those orders based on evaluation of defined network constraints (e.g. voltage excursion, etc.). After this, the corresponding peer generate/consume the traded energy and this actual generation/consumption is tracked by smart meters. Peers that fail to generate/consume the traded amount will be penalized or will be required to traded with peers with worse conditions. Elecbay further provides services for load balancing and all payments are also made to the platform. Elecbay deduces a service fee and then passes money to sellers, suppliers, DSOs. \newline
The researchers further defined a time schedule with periods for publishing and biding, energy exchange and settlement as well as a gate closing time and a due date for billing. They further simulated their platform using game theory and different energy constraints. They concluded that their platform comes with the already discussed benefits of P2P energy trading and a potential change in consuming behaviour. The further state that reforms to energy policies and laws are required to make such systems applicable. \cite{elecbay}

Ilic et al. \cite{ilic_smart_grid_neighbourhoods} developed a similar trading system that comes with a variety of market modules for verification, matching and management purposes of the energy market. They simulated their proposed market using a Java implementation and showed the market's efficiency with respect to trading prices and load balancing. \newline
This section is rather minimal since research mainly deals with energy market implementations which have already been discussed. 


\section{Conclusion}


%
% ---- Bibliography ----
%
% BibTeX users should specify bibliography style 'splncs04'.
% References will then be sorted and formatted in the correct style.
%
% \bibliographystyle{splncs04}
% \bibliography{mybibliography}
%
\begin{thebibliography}{8}
\bibitem{eu_energy_market}
European Parliament Homepage, \url{https://www.europarl.europa.eu/RegData/etudes/BRIE/2016/593519/EPRS\_BRI(2016)593519\_EN.pdf}. Last accessed 7 Nov 2020

\bibitem{mengelkamp_lem}
E. Mengelkamp, B. Notheisen, C. Beer, D. Dauer, C. Weinhardt: A blockchain-based smart grid: towards sustainable local energy markets. In:  Computer Science - Research and Development, vol. 33, no. 1-2, pp. 207-214, 2018. \doi{10.1007/s00450-017-0360-9}

\bibitem{ilic_smart_grid_neighbourhoods}
D. Ilic, P. Goncalves Da Silva, S. Karnouskos, M. Griesemer: An energy market for trading electricity in smart grid neighbourhoods. In: 6th IEEE International Conference on Digital Ecosystems and Technologies, Campione d'Italia, Italy, pp. 1-6, 2012. \doi{10.1109/DEST.2012.6227918}

\bibitem{mihaylov_nrgcoin}
M. Mihaylov, S. Jurado, N. Avellana, K. Van Moffaert, I. M. de Abril and A. Nowé: NRGcoin: Virtual Currency for Trading of Renewable Energy in Smart Grids. In: 11th International Conference on the European Energy Market (EEM14), Krakow, pp. 1-6, 2014. \doi{10.1109/EEM.2014.6861213}

\bibitem{mihaylov_nrgcoin2}
M. Mihaylov, I. Razo-Zapata, A. Nowé: NRGcoin—A Blockchain-based Reward Mechanism for Both Production and Consumption of Renewable Energy. In: Transforming Climate Finance and Green Investment with Blockchains, Academic Press, pp. 111-131, 2018.
\doi{10.1016/B978-0-12-814447-3.00009-4}

\bibitem{nrgcoin_demo}
NRGcoin Homepage, \url{https://nrgcoin.org/demonstration/}. Last accessed 13. Nov 2020

\bibitem{zia_microgrid_te}
M. F. Zia, M. Benbouzid, E. Elbouchikhi, S. M. Muyeen, K. Techato and J. M. Guerrero:  Microgrid Transactive Energy: Review, Architectures, Distributed Ledger Technologies, and Market Analysis. In: IEEE Access, vol. 8, pp. 19410-19432, 2020, \doi{10.1109/ACCESS.2020.2968402}.

\bibitem{andoni_energy_bc_review}
M. Andoni, V. Robu, D. Flynn, S. Abram, D. Geach, D. Jenkins, P. McCallum, A. Peacock:
Blockchain technology in the energy sector: A systematic review of challenges and opportunities. In: Renewable and Sustainable Energy Reviews,Volume 100, Pages 143-174, 2019, \doi{10.1016/j.rser.2018.10.014}.

\bibitem{brooklyn_microgrid}
E. Mengelkamp, J. Gärttner, K. Rock, S. Kessler, L. Orsini, C. Weinhardt: Designing microgrid energy markets: A case study: The Brooklyn Microgrid. In: Applied Energy, Volume 210, Pages 870-880, 2018, \doi{10.1016/j.apenergy.2017.06.054}.

\bibitem{blockchain}
D. Yaga, P. Mell, N. Roby, K. Scarfone: Blockchain technology overview. National Institute of Standards and Technology, Oct 2018, \doi{10.6028/nist.ir.8202}

\bibitem{prosume_wp}
PROSUME Homepage, \url{https://prosume.io/wp-content/uploads/2017/09/white-paper\_v2-2017.pdf}. Last accessed 05.01.2021

\bibitem{prosume_briefing}
PROSUME Homepage, \url{https://prosume.io/wp-content/uploads/PROSUME\_Commercial-Deck\_17012020.pdf}. Last accessed 05.01.2021

\bibitem{powerledger}
Power Ledger Homepage, \url{https://www.powerledger.io/wp-content/uploads/2019/11/power-ledger-whitepaper.pdf}. Last accessed 06.01.2021

\bibitem{elecbay}
C. Zhang, J. Wu, Y. Zhou, M. Cheng, C. Long: Peer-to-Peer energy trading in a Microgrid. In: Applied Energy, Volume 220, Pages 1-12, 2018, \doi{10.1016/j.apenergy.2018.03.010}

\end{thebibliography}
\end{document}
